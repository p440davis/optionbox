{"version":3,"file":"main.min.js","sources":["../src/modules/core.js","../src/main.js"],"sourcesContent":["const core = {\r\n    init(selector) {\r\n        let elements = selector\r\n            ? document.querySelectorAll(selector)\r\n            : document.querySelectorAll(\"select\");\r\n        let selects = [];\r\n        if (elements.length) {\r\n            [].forEach.call(elements, element => {\r\n                if (element.tagName == \"SELECT\") {\r\n                    selects.push(element);\r\n                } else\r\n                    console.warn(\r\n                        \"Optionbox warning: Your selection includes a <\" +\r\n                            element.tagName.toLowerCase() +\r\n                            \">. Only <select> elements can be converted to an optionbox\"\r\n                    );\r\n            });\r\n            this.create(selects);\r\n            this.listen(document.querySelectorAll(\".optionbox-button\"));\r\n        }\r\n    },\r\n\r\n    create(selects) {\r\n        selects.forEach(select => {\r\n            let optionsBox = document.createElement(\"span\");\r\n\r\n            optionsBox.classList.add(\"optionbox\");\r\n            optionsBox.innerHTML = this.replicate(\r\n                select.querySelectorAll(\"option\"),\r\n                select.name\r\n            );\r\n\r\n            select.insertAdjacentElement(\"beforebegin\", optionsBox);\r\n\r\n            select.selectedIndex = -1;\r\n            select.hidden = true;\r\n        });\r\n    },\r\n\r\n    replicate(options, name) {\r\n        let content = ``;\r\n\r\n        [].forEach.call(options, option => {\r\n            content += `<label class=\"optionbox-label\">\r\n                <input type=\"radio\" name=\"${name}-options\" class=\"optionbox-button\" \r\n                    data-optionbox-name=\"${name}\"\r\n                    data-optionbox-value=\"${option.value}\">\r\n                    \r\n                ${option.innerHTML}\r\n                </label>`;\r\n        });\r\n\r\n        return content;\r\n    },\r\n\r\n    listen(elements) {\r\n        [].forEach.call(elements, optionButton => {\r\n            optionButton.onclick = () => {\r\n                let name = optionButton.dataset.optionboxName;\r\n                let value = optionButton.dataset.optionboxValue;\r\n                this.select(optionButton, name, value);\r\n            };\r\n        });\r\n    },\r\n\r\n    select(optionButton, name, value) {\r\n        let select = document.querySelector(`[name=${name}]`);\r\n        let optionLabel = optionButton.closest(\".optionbox-label\");\r\n        let optionsBox = optionButton.closest(\".optionbox\");\r\n        let optionSiblings = optionsBox.querySelectorAll(\r\n            \".optionbox-button:not(:checked)\"\r\n        );\r\n\r\n        if (select.value != value) {\r\n            // select if not previously selected\r\n            select.value = value;\r\n            optionLabel.classList.add(\"selected\");\r\n            optionsBox.classList.add(\"selected\");\r\n            [].forEach.call(optionSiblings, sibling =>\r\n                sibling.closest(\"label\").classList.remove(\"selected\")\r\n            );\r\n        } else {\r\n            // deselect if previously selected\r\n            select.selectedIndex = -1;\r\n            optionButton.checked = false;\r\n            optionLabel.classList.remove(\"selected\");\r\n            optionsBox.classList.remove(\"selected\");\r\n        }\r\n    }\r\n};\r\n\r\nexport { core };\r\n","import { core } from \"./modules/core\";\r\n\r\ncore.init();\r\n"],"names":[],"mappings":"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"}