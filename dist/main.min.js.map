{"version":3,"file":"main.min.js","sources":["../src/modules/core.js","../src/main.js"],"sourcesContent":["const core = {\n  init(selector) {\n    let elements = selector\n      ? document.querySelectorAll(selector)\n      : document.querySelectorAll(\"select\");\n    let selects = [];\n    if (elements.length) {\n      [].forEach.call(elements, element => {\n        if (element.tagName == \"SELECT\") {\n          selects.push(element);\n        } else\n          console.warn(\n            \"Optionbox warning: Your selection includes a <\" +\n              element.tagName.toLowerCase() +\n              \">. Only <select> elements can be converted to an optionbox\"\n          );\n      });\n      this.create(selects);\n      this.listen(document.querySelectorAll(\".optionbox-button\"));\n    }\n  },\n\n  create(selects) {\n    selects.forEach(select => {\n      let optionsBox = document.createElement(\"span\");\n\n      optionsBox.id = select.id;\n      optionsBox.classList.add(\"optionbox\");\n      optionsBox.innerHTML = this.replicate(\n        select.querySelectorAll(\"option\"),\n        select.name\n      );\n\n      select.insertAdjacentElement(\"beforebegin\", optionsBox);\n\n      select.selectedIndex = -1;\n      select.hidden = true;\n    });\n  },\n\n  replicate(options, name) {\n    let content = ``;\n\n    [].forEach.call(options, option => {\n      content += `<label class=\"optionbox-label\">\n                <input type=\"radio\" name=\"${name}-options\" class=\"optionbox-button\" \n                    data-optionbox-name=\"${name}\"\n                    data-optionbox-value=\"${option.value}\">\n                    \n                ${option.innerHTML}\n                </label>`;\n    });\n\n    return content;\n  },\n\n  listen(elements) {\n    [].forEach.call(elements, optionButton => {\n      optionButton.onclick = () => {\n        let name = optionButton.dataset.optionboxName;\n        let value = optionButton.dataset.optionboxValue;\n        this.select(optionButton, name, value);\n      };\n    });\n  },\n\n  select(optionButton, name, value) {\n    let select = document.querySelector(`[name=${name}]`);\n    let optionLabel = optionButton.closest(\".optionbox-label\");\n    let optionsBox = optionButton.closest(\".optionbox\");\n    let optionSiblings = optionsBox.querySelectorAll(\n      \".optionbox-button:not(:checked)\"\n    );\n\n    if (select.value != value) {\n      // select if not previously selected\n      select.value = value;\n      optionLabel.classList.add(\"selected\");\n      optionsBox.classList.add(\"selected\");\n      [].forEach.call(optionSiblings, sibling =>\n        sibling.closest(\"label\").classList.remove(\"selected\")\n      );\n    } else {\n      // deselect if previously selected\n      select.selectedIndex = -1;\n      optionButton.checked = false;\n      optionLabel.classList.remove(\"selected\");\n      optionsBox.classList.remove(\"selected\");\n    }\n  }\n};\n\nexport { core };\n","import { core } from \"./modules/core\";\n\ncore.init();\n"],"names":[],"mappings":"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"}