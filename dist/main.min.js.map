{"version":3,"file":"main.min.js","sources":["../src/modules/core.js","../src/main.js"],"sourcesContent":["const core = {\r\n  init(selector) {\r\n    let elements = selector\r\n      ? document.querySelectorAll(selector)\r\n      : document.querySelectorAll(\"select\");\r\n    let selects = [];\r\n    if (elements.length) {\r\n      [].forEach.call(elements, element => {\r\n        if (element.tagName == \"SELECT\") {\r\n          selects.push(element);\r\n        } else\r\n          console.warn(\r\n            \"Optionbox warning: Your selection includes a <\" +\r\n              element.tagName.toLowerCase() +\r\n              \">. Only <select> elements can be converted to an optionbox\"\r\n          );\r\n      });\r\n      this.create(selects);\r\n      this.listen(document.querySelectorAll(\".optionbox-button\"));\r\n    }\r\n  },\r\n\r\n  create(selects) {\r\n    selects.forEach(select => {\r\n      let optionsBox = document.createElement(\"span\");\r\n\r\n      optionsBox.id = select.id;\r\n      optionsBox.classList.add(\"optionbox\");\r\n      optionsBox.innerHTML = this.replicate(\r\n        select.querySelectorAll(\"option\"),\r\n        select.name\r\n      );\r\n\r\n      select.insertAdjacentElement(\"beforebegin\", optionsBox);\r\n\r\n      select.selectedIndex = -1;\r\n      select.hidden = true;\r\n    });\r\n  },\r\n\r\n  replicate(options, name) {\r\n    let content = ``;\r\n\r\n    [].forEach.call(options, option => {\r\n      content += `<label class=\"optionbox-label\">\r\n                <input type=\"radio\" name=\"${name}-options\" class=\"optionbox-button\" \r\n                    data-optionbox-name=\"${name}\"\r\n                    data-optionbox-value=\"${option.value}\">\r\n                    \r\n                ${option.innerHTML}\r\n                </label>`;\r\n    });\r\n\r\n    return content;\r\n  },\r\n\r\n  listen(elements) {\r\n    [].forEach.call(elements, optionButton => {\r\n      optionButton.onclick = () => {\r\n        let name = optionButton.dataset.optionboxName;\r\n        let value = optionButton.dataset.optionboxValue;\r\n        this.select(optionButton, name, value);\r\n      };\r\n    });\r\n  },\r\n\r\n  select(optionButton, name, value) {\r\n    let select = document.querySelector(`[name=${name}]`);\r\n    let optionLabel = optionButton.closest(\".optionbox-label\");\r\n    let optionsBox = optionButton.closest(\".optionbox\");\r\n    let optionSiblings = optionsBox.querySelectorAll(\r\n      \".optionbox-button:not(:checked)\"\r\n    );\r\n\r\n    if (select.value != value) {\r\n      // select if not previously selected\r\n      select.value = value;\r\n      optionLabel.classList.add(\"selected\");\r\n      optionsBox.classList.add(\"selected\");\r\n      [].forEach.call(optionSiblings, sibling =>\r\n        sibling.closest(\"label\").classList.remove(\"selected\")\r\n      );\r\n    } else {\r\n      // deselect if previously selected\r\n      select.selectedIndex = -1;\r\n      optionButton.checked = false;\r\n      optionLabel.classList.remove(\"selected\");\r\n      optionsBox.classList.remove(\"selected\");\r\n    }\r\n  }\r\n};\r\n\r\nexport { core };\r\n","import { core } from \"./modules/core\";\r\n\r\ncore.init();\r\n"],"names":[],"mappings":"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"}