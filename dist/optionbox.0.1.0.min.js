!function(){"use strict";var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i={defaultConfig:{persist:!0,prefix:"_optionbox",select:"select"},config:function(e){var t=Object.assign(this.defaultConfig,e);return t.persist&&(t.persist=this.storageExists()),t},storageExists:function(){return void 0!==("undefined"==typeof Storage?"undefined":e(Storage))},storedValues:function(e){return e.persist?sessionStorage.getItem(e.prefix):{}},selectElements:function(e){var t=document.querySelectorAll(e),n=[];return t.length&&[].forEach.call(t,function(e){"SELECT"===e.tagName?n.push(e):console.warn("Optionbox warning: Your selection includes a <"+e.tagName.toLowerCase()+">. Only <select> elements can be converted to an optionbox")}),n}},c={optionboxes:function(l,a,e){var u=this,f=[];return e.forEach(function(e){var t=l.prefix,n=e.name,o=e.getAttribute("class"),s=e.getAttribute("style"),i="",c=e.querySelectorAll("option"),r=document.createElement("span");a&&(i=a[n]),r.id=n+t,r.setAttribute("class",o),r.classList.add(t),r.setAttribute("style",s),r.innerHTML=u.options(c,n,i,t),e.insertAdjacentElement("beforebegin",r),e.selectedIndex=-1,e.hidden=!0,f.push(r)}),f},options:function(e,i,c,r){var l=this,a="";return[].forEach.call(e,function(e){var t=l.preselected(c,e),n=e.getAttribute("alt"),o=e.getAttribute("class"),s=e.getAttribute("style");console.log(o),console.log(s),a+='\n                    <label \n                        class="'+r+"-item "+o+'"\n                        style="'+s+'">\n                    <input\n                        type="radio"\n                        class="'+r+'-radio"\n                        name="'+(i+r)+'"\n                        value="'+e.value+'"\n                        checked="'+t+'">\n                        '+e.innerHTML,n&&(a+='<small class="'+r+'-alt">'+n+"</small>"),a+="</label>"}),a},preselected:function(e,t){return e===t.value||!(e||!t.hasAttribute("selected"))}},r={listen:function(t,e){var n=this;e.forEach(function(e){e.addEventListener("click",function(e){e.target&&"INPUT"===e.target.tagName&&n.change(e.target,t)})})},change:function(e,t){var n=t.prefix,o=e.closest("."+n),s=o.id.replace(n,""),i=e.value,c=e.closest("."+n+"-item"),r=o.querySelectorAll("._optionbox-radio:not(:checked)"),l=document.querySelector("[name="+s+"]");l.value!=i?(l.value=i,e.checked=!0,this.store(t,l),this.close(c,o,r)):(l.selectedIndex=-1,e.checked=!1,this.remove(t,l),this.open(c,o))},close:function(e,t,n){e.classList.add("selected"),t.classList.add("closed"),[].forEach.call(n,function(e){return e.closest("label").classList.remove("selected")})},open:function(e,t){e.classList.remove("selected"),t.classList.remove("closed")},init:function(e){e.forEach(function(e){var t=e.querySelectorAll("[checked=true]");[].forEach.call(t,function(e){e.click()})})},store:function(e,t){e.persist&&sessionStorage.setItem(e.prefix+"-"+t.name,t.value)},remove:function(e,t){e.persist&&sessionStorage.removeItem(e.prefix+"-"+t.name)}};window.optionbox=function(e){var t=i.config(e),n=i.storedValues(t),o=i.selectElements(t.select),s=c.optionboxes(t,n,o);r.listen(t,s),r.init(s)}}();
//# sourceMappingURL=optionbox.0.1.0.min.js.map
