!function(){"use strict";({init:function(e){var t=e?document.querySelectorAll(e):document.querySelectorAll("select"),o=[];t.length&&([].forEach.call(t,function(e){"SELECT"==e.tagName?o.push(e):console.warn("Optionbox warning: Your selection includes a <"+e.tagName.toLowerCase()+">. Only <select> elements can be converted to an optionbox")}),this.create(o),this.listen(document.querySelectorAll(".optionbox-radio")),this.preselect())},create:function(e){var o=this;e.forEach(function(e){var t=document.createElement("span");t.classList.add("optionbox"),t.innerHTML=o.replicate(e.querySelectorAll("option"),e.name),e.insertAdjacentElement("beforebegin",t),e.selectedIndex=-1,e.hidden=!0})},replicate:function(e,t){var o="";return[].forEach.call(e,function(e){o+='\n        <label class="optionbox-item">\n          <input\n            type="radio"\n            class="optionbox-radio"\n            name="'+t+'-options"\n            data-optionbox-name="'+t+'"\n            data-optionbox-value="'+e.value+'"\n            checked="'+e.hasAttribute("selected")+'">\n          '+e.innerHTML+"\n        </label>"}),o},listen:function(e){var n=this;[].forEach.call(e,function(o){o.onclick=function(){var e=o.dataset.optionboxName,t=o.dataset.optionboxValue;n.select(o,e,t)}})},select:function(e,t,o){var n=document.querySelector("[name="+t+"]"),c=e.closest(".optionbox-item"),l=e.closest(".optionbox"),a=l.querySelectorAll(".optionbox-radio:not(:checked)");n.value!=o?(n.value=o,c.classList.add("selected"),l.classList.add("closed"),[].forEach.call(a,function(e){return e.closest("label").classList.remove("selected")})):(n.selectedIndex=-1,e.checked=!1,c.classList.remove("selected"),l.classList.remove("closed"))},preselect:function(){var e=document.querySelectorAll(".optionbox-radio[checked=true]");[].forEach.call(e,function(e){e.click()})}}).init()}();
//# sourceMappingURL=optionbox.min.js.map
